---
- name: Base server packages
  become: true
  apt:
    name: 
      - git
      - ansible
      - docker.io
      - docker-compose
      - apparmor
      - tmux
      - vim
      - openjdk-17-jdk-headless
      - prometheus-node-exporter
      - curl
      - rsync
      - dnsmasq
      - npm
    state: present


# by default we do not start dnsmasq service
- name: disable dnsmasq service
  become: true
  ansible.builtin.systemd:
    enabled: false
    state: stopped
    name: dnsmasq